EX5-2-3

・支店テーブルに支店ごとの取り扱い商品数を表す「取扱商品数」列を追加する(branch_goods_numbers)。
→これにより、支店商品テーブルとの結合が不要になり、支店テーブルのみで処理を完結させられる。また、取扱商品数の最大値を求めればよいので、数えた商品数で降順ソートをし、その上から一行を選択する処理も不要になる。



SELECT
	branch_code AS '支店コード',
	branch_goods_numbers AS '取り扱い商品数'
FROM
	branches
WHERE
	branch_goods_numbers = 
		(
			SELECT
				MAX(branch_goods_numbers)
			FROM
				branches
		)
;